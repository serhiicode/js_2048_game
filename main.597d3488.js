parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"6KIz":[function(require,module,exports) {
"use strict";var e=document.querySelector(".button"),r=document.querySelector(".game-score"),n=document.querySelectorAll(".field-cell"),t=!1,l=0,a=4,i=4,c=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];function s(){n[0].innerHTML=c[0][0]?c[0][0]:"",n[1].innerHTML=c[0][1]?c[0][1]:"",n[2].innerHTML=c[0][2]?c[0][2]:"",n[3].innerHTML=c[0][3]?c[0][3]:"",n[4].innerHTML=c[1][0]?c[1][0]:"",n[5].innerHTML=c[1][1]?c[1][1]:"",n[6].innerHTML=c[1][2]?c[1][2]:"",n[7].innerHTML=c[1][3]?c[1][3]:"",n[8].innerHTML=c[2][0]?c[2][0]:"",n[9].innerHTML=c[2][1]?c[2][1]:"",n[10].innerHTML=c[2][2]?c[2][2]:"",n[11].innerHTML=c[2][3]?c[2][3]:"",n[12].innerHTML=c[3][0]?c[3][0]:"",n[13].innerHTML=c[3][1]?c[3][1]:"",n[14].innerHTML=c[3][2]?c[3][2]:"",n[15].innerHTML=c[3][3]?c[3][3]:"";for(var e=0;e<n.length;e++)switch(n[e].innerHTML){case"2":n[e].className="field-cell field-cell--2";break;case"4":n[e].className="field-cell field-cell--4";break;case"8":n[e].className="field-cell field-cell--8";break;case"16":n[e].className="field-cell field-cell--16";break;case"32":n[e].className="field-cell field-cell--32";break;case"64":n[e].className="field-cell field-cell--64";break;case"128":n[e].className="field-cell field-cell--128";break;case"256":n[e].className="field-cell field-cell--256";break;case"512":n[e].className="field-cell field-cell--512";break;case"1024":n[e].className="field-cell field-cell--1024";break;case"2048":n[e].className="field-cell field-cell--2048";break;default:n[e].className="field-cell"}}function f(){return[2,2,2,2,2,2,2,2,2,4][Math.floor(10*Math.random())]}function o(){var e=u();return e[Math.floor(Math.random()*e.length)]}function u(){for(var e=[],r=0;r<c.length;r++)for(var n=0;n<c[r].length;n++)if(!c[r][n]){var t=[r,n];e.push(t)}return 0!==e.length&&e}function d(){var e=o();if(!e)return"no empty cells";c[e[0]][e[1]]=f()}function m(){l=0,t=!0,d(),d(),s()}function v(){for(var e=[!0,!0,!0,!0],r=JSON.parse(JSON.stringify(c)),n=0;n<a;n++){var t=r[n];t=p(t),r[n]=t}JSON.stringify(r)===JSON.stringify(c)&&(e[0]=!1),r=JSON.parse(JSON.stringify(c));for(var l=0;l<a;l++){var i=r[l];i.reverse(),(i=p(i)).reverse(),r[l]=i}JSON.stringify(r)===JSON.stringify(c)&&(e[1]=!1);for(var s=c.map(function(e,r){return c.map(function(e){return e[e.length-1-r]})}),f=0;f<a;f++){var o=s[f];o=p(o),s[f]=o}s=s.map(function(e,r){return s.map(function(e){return e[r]}).reverse()}),JSON.stringify(s)===JSON.stringify(c)&&(e[2]=!1),s=c.map(function(e,r){return c.map(function(e){return e[r]}).reverse()});for(var u=0;u<a;u++){var m=s[u];m=p(m),s[u]=m}s=s.map(function(e,r){return s.map(function(e){return e[e.length-1-r]})}),JSON.stringify(s)===JSON.stringify(c)&&(e[3]=!1);var v=e.filter(function(e){return!e});"no empty cells"===d()&&4===v.length&&h();for(var L=0;L<c.length;L++)for(var y=0;y<c[L].length;y++)2048===c[L][y]&&g()}function g(){t=!1,document.querySelector(".message-win").classList.remove("hidden")}function h(){t=!1,document.querySelector(".message-lose").classList.remove("hidden")}function L(e){return e.filter(function(e){return 0!==e})}function y(e){for(var r=L(e),n=0;n<r.length-1;n++)r[n]===r[n+1]&&(r[n]*=2,r[n+1]=0,l+=r[n]);r=L(r);for(var t=0;t<i;t++)r[t]||r.push(0);return r}function p(e){for(var r=L(e),n=0;n<r.length-1;n++)r[n]===r[n+1]&&(r[n]*=2,r[n+1]=0);r=L(r);for(var t=0;t<i;t++)r[t]||r.push(0);return r}function M(){for(var e=0;e<a;e++){var r=c[e];r=y(r),c[e]=r}}function N(){for(var e=0;e<a;e++){var r=c[e];r.reverse(),(r=y(r)).reverse(),c[e]=r}}function H(){for(var e=c.map(function(e,r){return c.map(function(e){return e[e.length-1-r]})}),r=0;r<a;r++){var n=e[r];n=y(n),e[r]=n}e=e.map(function(r,n){return e.map(function(e){return e[n]}).reverse()});for(var t=0;t<a;t++)c[t]=e[t]}function S(){for(var e=c.map(function(e,r){return c.map(function(e){return e[r]}).reverse()}),r=0;r<a;r++){var n=e[r];n=y(n),e[r]=n}e=e.map(function(r,n){return e.map(function(e){return e[e.length-1-n]})});for(var t=0;t<a;t++)c[t]=e[t]}e.addEventListener("click",function(){for(var n=0;n<c.length;n++)for(var t=0;t<c[n].length;t++)c[n][t]=0;e.classList.remove("start"),e.classList.add("restart"),e.innerHTML="Restart",document.querySelector(".message-start").classList.add("hidden"),document.querySelector(".message-win").classList.add("hidden"),document.querySelector(".message-lose").classList.add("hidden"),r.innerHTML="0",m()}),document.addEventListener("keydown",function(e){t&&("ArrowRight"===e.key?N():"ArrowLeft"===e.key?M():"ArrowUp"===e.key?H():"ArrowDown"===e.key&&S(),r.innerHTML=l,d(),s(),v())});
},{}]},{},["6KIz"], null)
//# sourceMappingURL=main.597d3488.js.map